!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).aphrodite={})}(this,function(e){"use strict";function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){return(z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function F(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var n;if(e)return"string"==typeof e?r(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e){return"-".concat(e.toLowerCase())}var G=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0},N=/([A-Z])/g,n={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function D(e){return"!"===e[e.length-10]&&" !important"===e.slice(-11)?e:"".concat(e," !important")}var H=["Webkit","ms","Moz","O"],L=(Object.keys(n).forEach(function(t){H.forEach(function(e){n[e+(e=t).charAt(0).toUpperCase()+e.substring(1)]=n[t]})}),function(e,t){return"number"!=typeof t||n[e]?""+t:t+"px"}),U=function(e,t){return D(L(e,t))},o=function(e,t){return G(e).toString(36)},q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i(e,t){return e(t={exports:{}},t.exports),t.exports}var l=i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}),V=(t(l),i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e.hasOwnProperty(t)){for(var r={},i=e[t],o=(0,u.default)(t),a=Object.keys(n),l=0;l<a.length;l++){var s=a[l];if(s===t)for(var f=0;f<i.length;f++)r[i[f]+o]=n[t];r[s]=n[s]}return r}return n};var u=(t=l)&&t.__esModule?t:{default:t}})),Z=(t(V),i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){for(var o=0,a=e.length;o<a;++o){var l=e[o](t,n,r,i);if(l)return l}}})),$=(t(Z),i(function(e,t){function i(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)i(e,t[n]);else i(e,t)}})),J=(t($),i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)}})),K=(t(J),i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var f=e.prefixMap,u=e.plugins;return function e(t){for(var n in t){var r=t[n];if((0,y.default)(r))t[n]=e(r);else if(Array.isArray(r)){for(var i=[],o=0,a=r.length;o<a;++o){var l=(0,d.default)(u,n,r[o],t,f);(0,h.default)(i,l||r[o])}0<i.length&&(t[n]=i)}else{var s=(0,d.default)(u,n,r,t,f);s&&(t[n]=s),t=(0,c.default)(f,n,t)}}return t}};var c=n(V),d=n(Z),h=n($),y=n(J);function n(e){return e&&e.__esModule?e:{default:e}}})),K=t(K),X=t(i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&"text"===t)return["-webkit-text","text"]}})),s=i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e&&n.test(e)};var n=/-webkit-|-moz-|-ms-/;e.exports=t.default}),a=(t(s),i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,n.default)(t)&&-1<t.indexOf("calc("))return r.map(function(e){return t.replace(/calc\(/g,e+"calc(")})};var n=(t=s)&&t.__esModule?t:{default:t};var r=["-webkit-","-moz-",""]})),a=t(a),u=t(i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,n.default)(t)&&-1<t.indexOf("cross-fade("))return r.map(function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")})};var n=(t=s)&&t.__esModule?t:{default:t};var r=["-webkit-",""]})),c=t(i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&r.hasOwnProperty(t))return n.map(function(e){return e+t})};var n=["-webkit-","-moz-",""],r={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0}})),d=t(i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,n.default)(t)&&-1<t.indexOf("filter("))return r.map(function(e){return t.replace(/filter\(/g,e+"filter(")})};var n=(t=s)&&t.__esModule?t:{default:t};var r=["-webkit-",""]})),h=t(i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&n.hasOwnProperty(t))return n[t]};var n={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]}})),y=t(i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){Object.prototype.hasOwnProperty.call(o,e)&&(n[o[e]]=i[t]||t);if("flex"===e)if(Object.prototype.hasOwnProperty.call(a,t))n.msFlex=a[t];else if(l.test(t))n.msFlex=t+" 1 0%";else{var r=t.split(/\s/);switch(r.length){case 1:return void(n.msFlex="1 1 "+t);case 2:return void(l.test(r[1])?n.msFlex=r[0]+" "+r[1]+" 0%":n.msFlex=r[0]+" 1 "+r[1]);default:n.msFlex=t}}};var i={"space-around":"distribute","space-between":"justify","flex-start":"start","flex-end":"end"},o={alignContent:"msFlexLinePack",alignSelf:"msFlexItemAlign",alignItems:"msFlexAlign",justifyContent:"msFlexPack",order:"msFlexOrder",flexGrow:"msFlexPositive",flexShrink:"msFlexNegative",flexBasis:"msFlexPreferredSize"},a={auto:"1 1 auto",inherit:"inherit",initial:"0 1 auto",none:"0 0 auto",unset:"unset"},l=/^\d+(\.\d+)?$/})),m=t(i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){"flexDirection"===e&&"string"==typeof t&&(-1<t.indexOf("column")?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",-1<t.indexOf("reverse")?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal");i.hasOwnProperty(e)&&(n[i[e]]=r[t]||t)};var r={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},i={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines",flexGrow:"WebkitBoxFlex"}})),p=t(i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,n){if("string"==typeof n&&!(0,r.default)(n)&&o.test(n))return i.map(function(t){return n.replace(o,function(e){return t+e})})};var r=(t=s)&&t.__esModule?t:{default:t};var i=["-webkit-","-moz-",""],o=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/gi})),g=t(i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=t,r=[],i=!0,t=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(i=(a=l.next()).done)&&(r.push(a.value),!n||r.length!==n);i=!0);}catch(e){t=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(t)throw o}}return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")};function l(e){return"number"==typeof e&&!isNaN(e)}function s(e){return"string"==typeof e&&e.includes("/")}t.default=function(e,t,n){if("display"===e&&t in r)return r[t];e in f&&(0,f[e])(t,n)};var n=["center","end","start","stretch"],r={"inline-grid":["-ms-inline-grid","inline-grid"],grid:["-ms-grid","grid"]},f={alignSelf:function(e,t){-1<n.indexOf(e)&&(t.msGridRowAlign=e)},gridColumn:function(e,t){var n,r,i,o;l(e)?t.msGridColumn=e:s(e)?(r=e.split("/"),n=(r=a(r,2))[0],r=r[1],f.gridColumnStart(+n,t),o=r.split(/ ?span /),i=(o=a(o,2))[0],o=o[1],""===i?f.gridColumnEnd(+n+ +o,t):f.gridColumnEnd(+r,t)):f.gridColumnStart(e,t)},gridColumnEnd:function(e,t){var n=t.msGridColumn;l(e)&&l(n)&&(t.msGridColumnSpan=e-n)},gridColumnStart:function(e,t){l(e)&&(t.msGridColumn=e)},gridRow:function(e,t){var n,r,i,o;l(e)?t.msGridRow=e:s(e)?(r=e.split("/"),n=(r=a(r,2))[0],r=r[1],f.gridRowStart(+n,t),o=r.split(/ ?span /),i=(o=a(o,2))[0],o=o[1],""===i?f.gridRowEnd(+n+ +o,t):f.gridRowEnd(+r,t)):f.gridRowStart(e,t)},gridRowEnd:function(e,t){var n=t.msGridRow;l(e)&&l(n)&&(t.msGridRowSpan=e-n)},gridRowStart:function(e,t){l(e)&&(t.msGridRow=e)},gridTemplateColumns:function(e,t){t.msGridColumns=e},gridTemplateRows:function(e,t){t.msGridRows=e},justifySelf:function(e,t){-1<n.indexOf(e)&&(t.msGridColumnAlign=e)}}})),b=t(i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"==typeof t&&!(0,n.default)(t)&&-1<t.indexOf("image-set("))return r.map(function(e){return t.replace(/image-set\(/g,e+"image-set(")})};var n=(t=s)&&t.__esModule?t:{default:t};var r=["-webkit-",""]})),v=t(i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(Object.prototype.hasOwnProperty.call(a,e))for(var r=a[e],i=0,o=r.length;i<o;++i)n[r[i]]=t};var a={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]}})),S=t(i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}})),k=t(i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(r.hasOwnProperty(e)&&i.hasOwnProperty(t))return n.map(function(e){return e+t})};var n=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0}})),Y=/[A-Z]/g,Q=/^ms-/,j={};function ee(e){return e in j?j[e]:j[e]=e.replace(Y,"-$&").toLowerCase().replace(Q,"-ms-")}function O(i,e,o,a,l){for(var t=new P,n=0;n<e.length;n++)t.addStyleType(e[n]);var s=new P,f=[],r=(t.forEach(function(n,r){o.some(function(e){var t=e(r,i,function(e){return O(e,[n],o,a,l)});if(null!=t)return Array.isArray(t)?f.push.apply(f,F(t)):(console.warn("WARNING: Selector handlers should return an array of rules.Returning a string containing multiple rules is deprecated.",e),f.push("@media all {".concat(t,"}"))),!0})||s.set(r,n,!0)}),te(i,s,a,l,o));return r&&f.unshift(r),f}function te(e,t,n,r,i){ae(t,n,i);var o=Object.keys(t.elements).reduce(se,Object.create(null)),a=ie(t.elements),l=Object.keys(a);if(l.length!==t.keyOrder.length)for(var s,f=0;f<l.length;f++)o[l[f]]||(s=void 0,(s="W"===l[f][0]?l[f][6].toLowerCase()+l[f].slice(7):"o"===l[f][1]?l[f][3].toLowerCase()+l[f].slice(4):l[f][2].toLowerCase()+l[f].slice(3))&&o[s]?(s=t.keyOrder.indexOf(s),t.keyOrder.splice(s,0,l[f])):t.keyOrder.unshift(l[f]));for(var u=!1===r?L:U,c=[],d=0;d<t.keyOrder.length;d++){var h=t.keyOrder[d],y=a[h];if(Array.isArray(y))for(var m=0;m<y.length;m++)c.push(le(h,y[m],u));else c.push(le(h,y,u))}return c.length?"".concat(e,"{").concat(c.join(""),"}"):""}var ne=i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e)};var n,r=(n=ee)&&n.__esModule?n:{default:n};e.exports=t.default}),x=(t(ne),i(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){{var i;if("string"==typeof t&&a.hasOwnProperty(e))return t=function(e,t){if((0,h.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),r=0,i=n.length;r<i;++r){var o,a=n[r],l=[a];for(o in t){var s=(0,d.default)(o);if(-1<a.indexOf(s)&&"order"!==s)for(var f=t[o],u=0,c=f.length;u<c;++u)l.unshift(a.replace(s,y[f[u]]+s))}n[r]=l.join(",")}return n.join(",")}(t,r),r=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-moz-|-ms-/.test(e)}).join(","),-1<e.indexOf("Webkit")?r:(i=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-webkit-|-ms-/.test(e)}).join(","),-1<e.indexOf("Moz")?i:(n["Webkit"+(0,o.default)(e)]=r,n["Moz"+(0,o.default)(e)]=i,t))}};var d=n(ne),h=n(s),o=n(l);function n(e){return e&&e.__esModule?e:{default:e}}var a={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},y={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"}})),w=["Webkit"],_=["Moz"],B=["ms"],M=["Webkit","Moz"],C=["Webkit","ms"],W=["Webkit","Moz","ms"],X={plugins:[X,a,u,c,d,h,y,m,p,g,b,v,S,k,t(x)],prefixMap:{transform:C,transformOrigin:C,transformOriginX:C,transformOriginY:C,backfaceVisibility:w,perspective:w,perspectiveOrigin:w,transformStyle:w,transformOriginZ:w,animation:w,animationDelay:w,animationDirection:w,animationFillMode:w,animationDuration:w,animationIterationCount:w,animationName:w,animationPlayState:w,animationTimingFunction:w,appearance:W,userSelect:W,fontKerning:w,textEmphasisPosition:C,textEmphasis:C,textEmphasisStyle:C,textEmphasisColor:C,boxDecorationBreak:C,clipPath:w,maskImage:C,maskMode:C,maskRepeat:C,maskPosition:C,maskClip:C,maskOrigin:C,maskSize:C,maskComposite:C,mask:C,maskBorderSource:C,maskBorderMode:C,maskBorderSlice:C,maskBorderWidth:C,maskBorderOutset:C,maskBorderRepeat:C,maskBorder:C,maskType:C,textDecorationStyle:M,textDecorationSkip:M,textDecorationLine:M,textDecorationColor:M,filter:w,fontFeatureSettings:M,breakAfter:W,breakBefore:W,breakInside:W,columnCount:M,columnFill:M,columnGap:M,columnRule:M,columnRuleColor:M,columnRuleStyle:M,columnRuleWidth:M,columns:M,columnSpan:M,columnWidth:M,writingMode:C,flex:C,flexBasis:w,flexDirection:C,flexGrow:w,flexFlow:C,flexShrink:w,flexWrap:C,alignContent:w,alignItems:w,alignSelf:w,justifyContent:w,order:w,transitionDelay:w,transitionDuration:w,transitionProperty:w,transitionTimingFunction:w,backdropFilter:w,scrollSnapType:C,scrollSnapPointsX:C,scrollSnapPointsY:C,scrollSnapDestination:C,scrollSnapCoordinate:C,shapeImageThreshold:w,shapeImageMargin:w,shapeImageOutside:w,hyphens:W,flowInto:C,flowFrom:C,regionFragment:C,textOrientation:w,boxSizing:_,textAlignLast:_,tabSize:_,wrapFlow:B,wrapThrough:B,wrapMargin:B,touchAction:B,textSizeAdjust:["ms","Webkit"],borderImage:w,borderImageOutset:w,borderImageRepeat:w,borderImageSlice:w,borderImageSource:w,borderImageWidth:w}},re="undefined"!=typeof Map,P=function(){function s(){this.elements={},this.keyOrder=[]}var e=s.prototype;return e.forEach=function(e){for(var t=0;t<this.keyOrder.length;t++)e(this.elements[this.keyOrder[t]],this.keyOrder[t])},e.set=function(e,t,n){var r,i;if(this.elements.hasOwnProperty(e)?n&&(r=this.keyOrder.indexOf(e),this.keyOrder.splice(r,1),this.keyOrder.push(e)):this.keyOrder.push(e),null==t)this.elements[e]=t;else if(re&&t instanceof Map||t instanceof s)i=this.elements.hasOwnProperty(e)?this.elements[e]:new s,t.forEach(function(e,t){i.set(t,e,n)}),this.elements[e]=i;else if(Array.isArray(t)||"object"!==f(t))this.elements[e]=t;else{for(var o=this.elements.hasOwnProperty(e)?this.elements[e]:new s,a=Object.keys(t),l=0;l<a.length;l+=1)o.set(a[l],t[a[l]],n);this.elements[e]=o}},e.get=function(e){return this.elements[e]},e.has=function(e){return this.elements.hasOwnProperty(e)},e.addStyleType=function(e){var n=this;if(re&&e instanceof Map||e instanceof s)e.forEach(function(e,t){n.set(t,e,!0)});else for(var t=Object.keys(e),r=0;r<t.length;r++)this.set(t[r],e[t[r]],!0)},s}(),ie=K(X),oe=[function(e,t,n){return":"!==e[0]?null:n(t+e)},function(e,t,n){return"@"!==e[0]?null:(n=n(t),["".concat(e,"{").concat(n.join(""),"}")])}],ae=function(e,t,n){if(t)for(var r=Object.keys(t),i=0;i<r.length;i++){var o=r[i];e.has(o)&&e.set(o,t[o](e.get(o),n),!1)}},le=function(e,t,n){return"".concat(function(e){e=e.replace(N,R);return"m"===e[0]&&"s"===e[1]&&"-"===e[2]?"-".concat(e):e}(e),":").concat(n(e,t),";")},se=function(e,t){return e[t]=!0,e},fe=ue;function ue(e){A.length||ce(),A[A.length]=e}var ce,A=[],T=0;function de(){for(;T<A.length;){var e=T;if(T+=1,A[e].call(),1024<T){for(var t=0,n=A.length-T;t<n;t++)A[t]=A[t+T];A.length-=T,T=0}}A.length=0,T=0}var I,he,a=void 0!==q?q:self,u=a.MutationObserver||a.WebKitMutationObserver;function ye(r){return function(){var e=setTimeout(n,0),t=setInterval(n,50);function n(){clearTimeout(e),clearInterval(t),r()}}}ce="function"==typeof u?(I=1,c=new u(c=de),he=document.createTextNode(""),c.observe(he,{characterData:!0}),function(){I=-I,he.data=I}):ye(de),ue.requestFlush=ce,ue.makeRequestCallFromTimer=ye;var E=[],me=[],pe=fe.makeRequestCallFromTimer(function(){if(me.length)throw me.shift()});var ge=be;function be(e){var t=E.length?E.pop():new ve;t.task=e,fe(t)}function ve(){this.task=null}ve.prototype.call=function(){try{this.task.call()}catch(e){be.onerror?be.onerror(e):(me.push(e),pe())}finally{this.task=null,E[E.length]=this}};function Se(e,t){return"".concat(t,"_").concat(o(e))}var ke=function(){function e(){var t=this;this.styleTag=null,this.alreadyInjected={},this.injectionBuffer=[],this.isBuffering=!1,this.stringHandlers={animationName:this.animationName.bind(this),fontFamily:this.fontFamily.bind(this)},this.flushToStyleTag=function(){var e=t.flushToArray();0<e.length&&t.injectStyleTag(e)}}var t=e.prototype;return t.injectStyleTag=function(e){null==this.styleTag&&(this.styleTag=document.querySelector("style[data-aphrodite]"),null==this.styleTag)&&(t=document.head||document.getElementsByTagName("head")[0],this.styleTag=document.createElement("style"),this.styleTag.type="text/css",this.styleTag.setAttribute("data-aphrodite",""),t.appendChild(this.styleTag));var t,n,r=this.styleTag.styleSheet||this.styleTag.sheet;r.insertRule?(n=r.cssRules.length,e.forEach(function(e){try{r.insertRule(e,n),n+=1}catch(e){}})):this.styleTag.innerText=(this.styleTag.innerText||"")+e.join("")},t.fontFamily=function(e){var t,n=this;return Array.isArray(e)?(t={},e.forEach(function(e){t[n.fontFamily(e)]=!0}),Object.keys(t).join(",")):"object"===f(e)?(this.injectStyleOnce(e.src,"@font-face",[e],!1),'"'.concat(e.fontFamily,'"')):e},t.animationName=function(t,n){var e,r,i=this;return Array.isArray(t)?t.map(function(e){return i.animationName(e,n)}).join(","):"object"===f(t)?(e="keyframe_".concat(o(JSON.stringify(t))),r="@keyframes ".concat(e,"{"),t instanceof P?t.forEach(function(e,t){r+=O(t,[e],n,i.stringHandlers,!1).join("")}):Object.keys(t).forEach(function(e){r+=O(e,[t[e]],n,i.stringHandlers,!1).join("")}),r+="}",this.injectGeneratedCSSOnce(e,[r]),e):t},t.injectGeneratedCSSOnce=function(e,t){var n;if(!this.alreadyInjected[e]){if(!this.isBuffering){if("undefined"==typeof document)throw new Error("Cannot automatically buffer without a document");this.isBuffering=!0,ge(this.flushToStyleTag)}(n=this.injectionBuffer).push.apply(n,F(t)),this.alreadyInjected[e]=!0}},t.injectStyleOnce=function(e,t,n,r){this.alreadyInjected[e]||(t=O(t,n,4<arguments.length&&void 0!==arguments[4]?arguments[4]:[],this.stringHandlers,r),this.injectGeneratedCSSOnce(e,t))},t.reset=function(){this.injectionBuffer=[],this.alreadyInjected={},this.isBuffering=!1,this.styleTag=null},t.resetInjectedStyle=function(e){delete this.alreadyInjected[e]},t.getBufferedStyles=function(){return this.injectionBuffer},t.startBuffering=function(){if(this.isBuffering)throw new Error("Cannot buffer while already buffering");this.isBuffering=!0},t.flushToArray=function(){this.isBuffering=!1;var e=this.injectionBuffer;return this.injectionBuffer=[],e},t.flushToString=function(){return this.flushToArray().join("")},t.getRenderedClassNames=function(){return Object.keys(this.alreadyInjected)},t.addRenderedClassNames=function(e){var t=this;e.forEach(function(e){t.alreadyInjected[e]=!0})},t.isValidStyleDefinition=function(e){return"_definition"in e&&"_name"in e&&"_len"in e},t.processStyleDefinitions=function(e,t,n,r){for(var i=0;i<e.length;i+=1)if(e[i])if(Array.isArray(e[i]))r+=this.processStyleDefinitions(e[i],t,n,r);else{if(!this.isValidStyleDefinition(e[i]))throw new Error("Invalid Style Definition: Styles should be defined using the StyleSheet.create method.");t.push(e[i]._name),n.push(e[i]._definition),r+=e[i]._len}return r},t.injectAndGetClassName=function(e,t,n){var r=[],i=[],t=this.processStyleDefinitions(t,r,i,0);return 0===r.length?"":(r=1===r.length?"_".concat(r[0]):"_".concat(o(r.join())).concat((t%36).toString(36)),this.injectStyleOnce(r,".".concat(r),i,e,n),r)},e}(),je=function(){function e(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:oe;this.inject=e,this.useImportant=t,this.selectorHandlers=n,this.hashFn=o}var t=e.prototype;return t.minify=function(e){this.hashFn=e?o:Se},t.create=function(e){for(var t={},n=Object.keys(e),r=0;r<n.length;r+=1){var i=n[r],o=e[i],a=JSON.stringify(o);t[i]={_len:a.length,_name:this.hashFn(a,i),_definition:o}}return t},t.rehydrate=function(){this.inject.addRenderedClassNames(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[])},t.css=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.inject.injectAndGetClassName(this.useImportant,t,this.selectorHandlers)},t.extend=function(e){throw new Error("not implemented")},e}(),Oe=function(){function e(e){var t=this;this.inject=e,this.processHtml=function(e){return{html:e,css:{content:t.inject.flushToString(),renderedClassNames:t.inject.getRenderedClassNames()}}}}var t=e.prototype;return t.renderStatic=function(e){return this.inject.reset(),this.inject.startBuffering(),this.processHtml(e())},t.renderStaticAsync=function(e){return this.inject.reset(),this.inject.startBuffering(),e().then(this.processHtml)},e}(),xe=function(){function e(e){this.inject=e}var t=e.prototype;return t.suppressStyleInjection=function(){this.inject.reset(),this.inject.startBuffering()},t.clearBufferAndResumeStyleInjection=function(){this.inject.reset()},t.getBufferedStyles=function(){return this.inject.getBufferedStyles()},e}();d=function i(o,e){var a=1<arguments.length&&void 0!==e?e:oe,e=new ke,t=new(function(e){function t(){return e.apply(this,arguments)||this}var n,r;return r=e,(n=t).prototype=Object.create(r.prototype),z(n.prototype.constructor=n,r),t.prototype.extend=function(e){return e=e.map(function(e){return e.selectorHandler}).filter(function(e){return e}),i(o,a.concat(e))},t}(je))(e,o,a);return{StyleSheet:t,StyleSheetServer:new Oe(e),StyleSheetTestUtils:new xe(e),css:t.css.bind(t),minify:t.minify.bind(t),injectAndGetClassName:e.injectAndGetClassName.bind(e),flushToStyleTag:e.flushToStyleTag.bind(e),reset:e.reset.bind(e),resetInjectedStyle:e.resetInjectedStyle.bind(e)}}(!0),h=d.StyleSheet,y=d.StyleSheetServer,m=d.StyleSheetTestUtils,p=d.css,g=d.minify,b=d.flushToStyleTag,v=d.injectAndGetClassName,S=d.defaultSelectorHandlers,k=d.reset,x=d.resetInjectedStyle;e.StyleSheet=h,e.StyleSheetServer=y,e.StyleSheetTestUtils=m,e.css=p,e.defaultSelectorHandlers=S,e.flushToStyleTag=b,e.injectAndGetClassName=v,e.minify=g,e.reset=k,e.resetInjectedStyle=x,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=aphrodite.umd.min.js.map
